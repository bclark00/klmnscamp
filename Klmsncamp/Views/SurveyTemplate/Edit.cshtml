@using Telerik.Web.Mvc.UI
@model Klmsncamp.Models.SurveyTemplate
@{
    ViewBag.Title = "Anket Taslağı Düzenleme";
}
<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
<div align="center" style="width: 850px; margin-left: auto; margin-right: auto; margin-top: 30px;">
    @using (Html.BeginForm())
    {
        @Html.ValidationSummary(true)
        <fieldset style="width: 100%;" class="module aligned ">
            <legend>Bilgi İşlem - Anket </legend>
            <table>
                @Html.HiddenFor(model => model.SurveyTemplateID)
                @Html.HiddenFor(model => model.PreDefined)
                <tbody>
                    <tr>
                        <td style="text-align: right; vertical-align: middle; font-weight: bold;">
                            @Html.LabelFor(model => model.Description)
                        </td>
                        <td style="text-align: left; vertical-align: middle;">
                            @Html.TextBoxFor(model => model.Description, new { size = 40 })
                            @Html.ValidationMessageFor(model => model.Description)
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: right; vertical-align: middle; font-weight: bold;">
                            @Html.LabelFor(model => model.RequestTypeID, "İş Talep Tipi")
                        </td>
                        <td style="text-align: left; vertical-align: middle;">
                            @Html.DropDownList("RequestTypeID", String.Empty)
                            @Html.ValidationMessageFor(model => model.RequestTypeID)
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2" style="text-align: justify; vertical-align: middle; font-style: italic;">
                            <br />
                            Hali Hazırda Ankete dahil olan sorular Aşağıda Listenmiştir. Soruları Taslağa Eklemek/Çıkarmak
                            için yanlarındaki kutucukları kullanabilirsiniz
                            <br />
                            &nbsp;<br />
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2" style="text-align: justify; vertical-align: middle;">
                            <div style="font-weight: bolder; font-size: middle;">
                                @foreach (var survrec in ViewBag.TheseSurveyRecords as IList<Klmsncamp.Models.SurveyRecord>)
                                {
                                    @Html.CheckBox(survrec.SurveyNodeID + "_Remove", true) <text>&nbsp;</text> @survrec.SurveyNode.Description <text>&nbsp;|&nbsp;Anket
                                    Cevap Tipi&nbsp;:&nbsp;</text> @survrec.SurveyRecordType.Description@:<br/>
                                                                                                                                                                                                }
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2" style="text-align: justify; vertical-align: middle;">
                            <div style="color: Maroon; font-weight: bolder; font-size: middle;">
                                @foreach (var survnode in ViewBag.AllSurveyNodes as IList<Klmsncamp.Models.SurveyNode>)
                                {
                                    @Html.CheckBox(survnode.SurveyNodeID + "_Check", false) <text>&nbsp;</text>
                                    @survnode.Description <text>&nbsp;</text><select name="@survnode.SurveyNodeID.ToString()_survrectype"><option
                                        selected="selected" value="1">Puanlama</option>
                                        <option value="2">Evet/Hayır</option>
                                    </select><br />
                                }
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <br />
            <div class="submit-row">
                <p class="deletelink-box" style="padding-top: 7px;">
                    @Html.ActionLink("Vazgeç ve Geri Dön", "Index")
                </p>
                <input type="submit" onclick="this.disabled=true;this.value='Lütfen Bekleyiniz..Calisiyor..';this.form.submit();"
                    value="Taslağı Kaydet" />
            </div>
            <br />
            @if (!(string.IsNullOrEmpty(ViewBag.CustomErr)))
            {
                <fieldset class="module aligned ">
                    <br />
                    <div style="margin: 5px;">
                        <ul style="list-style: none">
                            <li>@ViewBag.CustomErr</li>
                        </ul>
                    </div>
                </fieldset>
                <br />
            }
            <br />
        </fieldset>
    }
</div>
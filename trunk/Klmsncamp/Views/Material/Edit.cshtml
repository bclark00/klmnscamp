@model Klmsncamp.Models.Material
@{
	ViewBag.Title = "Edit";
}
<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
<script type="text/javascript">
	var files = 0
	function addInput() {

		if (files != 5) {
			document.getElementById("add-file-field").innerHTML += "<input type='file' name='files' id='files-to-upload' /><br/>";
			files += 1;
		} else {
			document.getElementById("add-file-field").innerHTML += "<br />Bir Seferde En çok 5 Dosya Eklenebilir";
			document.getElementById('addfile').disabled = true;
		}
	}
</script>
<div align="center" style="width: 640px; margin-left: auto; margin-right: auto; margin-top: 30px;">
	<div style="margin-left: 25px;">
		@*	<h2>
			Düzenleme
		</h2>*@
		@using (Html.BeginForm("Edit", "Material", FormMethod.Post, new { enctype = "multipart/form-data" }))
  {
			@Html.ValidationSummary(true)
			
			<table style="border: 1px solid #EEEEEE">
				<thead>
					<tr>
						<th colspan="2" style="text-align: center;">
							<p>
								Malzeme Düzenleme
							</p>
						</th>
					</tr>
				</thead>
				<tr>
					<td>
						@Html.HiddenFor(model => model.MaterialID)
						<div class="editor-label">
							@Html.LabelFor(model => model.Description, "Açıklama:")
						</div>
					</td>
					<td>
						<div class="editor-field">
							@Html.EditorFor(model => model.Description)
							@Html.ValidationMessageFor(model => model.Description)
						</div>
					</td>
				</tr>
				<tr>
					<td>
						<div class="editor-label">
							@Html.LabelFor(model => model.MaterialCodeNum, "Kod No:")
						</div>
					</td>
					<td>
						<div class="editor-field">
							@Html.EditorFor(model => model.MaterialCodeNum)
							@Html.ValidationMessageFor(model => model.MaterialCodeNum)
						</div>
					</td>
				</tr>
				<tr>
					<td>
						<div class="editor-label">
							@Html.LabelFor(model => model.LocationID, "Konum:")
						</div>
					</td>
					<td>
						<div class="editor-field">
							@Html.DropDownList("LocationID", String.Empty)
							@Html.ValidationMessageFor(model => model.LocationID)
						</div>
					</td>
				</tr>
				<tr>
					<td>
						<div class="editor-label">
							@Html.LabelFor(model => model.CorporateAccountID, "Kurumsal Hesap:")
						</div>
					</td>
					<td>
						<div class="editor-field">
							@Html.DropDownList("CorporateAccountID", String.Empty)
							@Html.ValidationMessageFor(model => model.CorporateAccountID)
						</div>
					</td>
				</tr>
				<tr>
					<td>
						<div class="editor-label">
							@Html.LabelFor(model => model.ComponentModel, "Malzeme Model:")
						</div>
					</td>
					<td>
						<div class="editor-field">
							@Html.EditorFor(model => model.ComponentModel)
							@Html.ValidationMessageFor(model => model.ComponentModel)
						</div>
					</td>
				</tr>
				<tr>
					<td>
						<div class="editor-label">
							@Html.LabelFor(model => model.ParentMaterialID, "Ana Malzeme:")
						</div>
					</td>
					<td>
						<div class="editor-field">
							@Html.DropDownList("ParentMaterialID", String.Empty)
							@Html.ValidationMessageFor(model => model.ParentMaterialID)
						</div>
					</td>
				</tr>
				<tr>
					<td>
						<div class="editor-label">
							@Html.LabelFor(model => model.MaterialCategoryID, "Malzeme Kategori:")
						</div>
					</td>
					<td>
						<div class="editor-field">
							@Html.DropDownList("MaterialCategoryID", String.Empty)
							@Html.ValidationMessageFor(model => model.MaterialCategoryID)
						</div>
					</td>
				</tr>
				<tr>
					<td style="vertical-align: middle; text-align: left;">
						Ek Dosyalar :
					</td>
					<td>
						<div class="editor-field">
							<table>
								<tr>
									<td style="vertical-align: middle; text-align: left;">
										<input type="button" class="default" value="Dosya Ekle" onclick="javascript: addInput();"
											id="addfile" /><br />
										@foreach (var item in Model.MaterialFiles)
		  {
											@Html.ActionLink("(Sil)", "DeleteMaterialFile", new { fileId = item.MaterialFileID, materailId = Model.MaterialID })
											<text>&nbsp;|&nbsp;</text>
											@Html.ActionLink(item.MaterialFileName + " (indir)", "DownloadMaterialFile", new { fileId = item.MaterialFileID })<br />
		  }
										<br />
										<div id="add-file-field">
										</div>
									</td>
								</tr>
							</table>
						</div>
					</td>
				</tr>
				<tr>
				<td style="vertical-align: middle; text-align: left;">
				@Html.Label("lblDosyaAciklamasi","Eklenen Dosya Açıklaması:")
				</td>
				<td >
					@Html.TextArea("EklenenDosyaAciklama", new { cols = "40", rows = "4" })				
				</td>
				</tr>
				<tr>
					<td>
						<div class="editor-label">
							@Html.LabelFor(model => model.MaterialGroupID, "Bağlı Olduğu Grup:")
						</div>
					</td>
					<td>
						<div class="editor-field">
							@Html.DropDownList("MaterialGroupID", String.Empty)
							@Html.ValidationMessageFor(model => model.MaterialGroupID)
						</div>
					</td>
				</tr>
				<tr>
					<td>
						<div class="editor-label">
							@Html.LabelFor(model => model.MaterialTypeID, "Malzeme Tipi:")
						</div>
					</td>
					<td>
						<div class="editor-field">
							@Html.DropDownList("MaterialTypeID", String.Empty)
							@Html.ValidationMessageFor(model => model.MaterialTypeID)
						</div>
					</td>
				</tr>
				<tr>
					<td>
						<div class="editor-label">
							@Html.LabelFor(model => model.RackLocation, "Raf Konumu:")
						</div>
					</td>
					<td>
						<div class="editor-field">
							@Html.EditorFor(model => model.RackLocation)
							@Html.ValidationMessageFor(model => model.RackLocation)
						</div>
					</td>
				</tr>
				<tr>
					<td>
						<div class="editor-label">
							@Html.LabelFor(model => model.ValidationStateID, "Aktif Durumu:")
						</div>
					</td>
					<td>
						<div class="editor-field">
							@Html.DropDownList("ValidationStateID", String.Empty)
							@Html.ValidationMessageFor(model => model.ValidationStateID)
						</div>
					</td>
				</tr>
				<tr>
					<td>
						<div class="editor-label">
							@Html.LabelFor(model => model.Note, "Not:")
						</div>
					</td>
					<td>
						<div class="editor-field">
							@Html.EditorFor(model => model.Note)
							@Html.ValidationMessageFor(model => model.Note)
						</div>
					</td>
				</tr>
				<tfoot>
					<tr>
						<td style="text-align: right;" colspan="2">
							<p style="float: left; margin-top: 10px;">
								@Html.ActionLink("Back to List", "Index")
							</p>
							<p>
								<input type="submit" value="Kaydet" />
							</p>
						</td>
					</tr>
				</tfoot>
			</table>
			
  }
	</div>
	@*	<div>
		@Html.ActionLink("Back to List", "Index")
	</div>*@
</div>
